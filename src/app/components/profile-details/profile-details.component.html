<section class="details-panel" *ngIf="travel">
  <div id="details" *ngIf="travel.user">
    <img id="details-panel-img"
         [src]="getUserPicture(travel.user)"
         alt="image placeholder">
    <div id="details-wrapper">
      <h2>{{travel.user.name}}</h2>
      <div *ngIf="isProfile">
        <button class="comment-button" (click)="onNotificationClick()">Zgłoszenia</button>
        <button class="comment-button" id="warning-button" (click)="deleteTravel()">Odwołaj</button>
      </div>
      <div *ngIf="isSearch">
        <button class="comment-button" (click)="onReservationClick(travel)">Zarezerwuj</button>
      </div>

    </div>
  </div>

  <div id="travel-info">
    <div>
      <div>
        <p>Data</p>
        <span>{{travel.date | date}}</span>
      </div>
      <div>
        <p>Godzina</p>
        <span>{{travel.date | date:'shortTime'}}</span>
      </div>
      <div>
        <p>Wyjazd</p>
        <span>{{travel.startPoint}}</span>
      </div>
      <div>
        <p>Cena</p>
        <span>{{travel.cost}} zł</span>
      </div>
    </div>

    <div>
      <div>
        <p>Czas trwania</p>
        <span>{{travel.duration}} min</span>
      </div>
      <div>
        <p>Pojazd</p>
        <span>{{travel.car}}</span>
      </div>
      <div>
        <p>Miejsca</p>
        <span>{{travel.freeSpace}}</span>
      </div>
    </div>
  </div>

  <div id="comment-section" *ngIf="showNotifications">
    <div class="notification-wrapper" *ngFor="let reservation of reservationList">
      <div id="details">
        <img
          [src]="getUserPicture(reservation.user)"
          alt="image placeholder">
        <h3>{{reservation.user.name}}</h3>
        <i id="check" class="fa fa-check" *ngIf="reservation.isAccepted"></i>
      </div>
      <div *ngIf="reservation.isAccepted; else toAccept">
        <button class="comment-button" id="warning-button" (click)="cancelReservation(reservation)">Anuluj</button>
      </div>
      <ng-template #toAccept>
        <div>
          <button class="comment-button" id="action-button" [ngClass]="!travelHasFreeSpace() ? 'disabled' : ''"
                  (click)="acceptReservation(reservation)" [disabled]="!travelHasFreeSpace()">Potwierdź
          </button><!--TODO dodać style do klasy disabled-->
          <button class="comment-button" id="warning-button" (click)="deleteReservation(reservation)">Odmów</button>
        </div>
      </ng-template>
    </div>
  </div>

  <div class="map-container" *ngIf="!showNotifications">
    Mapka
  </div>
</section>
